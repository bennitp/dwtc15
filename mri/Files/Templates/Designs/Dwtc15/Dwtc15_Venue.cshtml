@inherits Dynamicweb.Rendering.RazorTemplateBase<Dynamicweb.Rendering.RazorTemplateModel<Dynamicweb.Rendering.Template>>

@MasterPageFile("Master/Dwtc15.cshtml")

<div class="venue">
	<h1>@GetValue("Item.Name")</h1>

    @{
        var sessions = new Dynamicweb.Content.Items.Queries.Repository("Dwtc15_Session").SelectByReference("Venue", "Dwtc15_Venue", GetString("Item.Id"), null, false, false);
        if (sessions != null && sessions.Count() > 0)
        {
            <h2>@Translate("Sessions")</h2>
            <div class="sessions">
                @foreach (var session in sessions)
                {
                    <div class="session">
                        <div class="title">
                            <a href="/Default.aspx?Id=@session.Page.ID">
                                @session["Title"]
                            </a>
                        </div>
                        <div class="starttime">@session["StartTime"]</div>
                    </div>
                }
            </div>
        }
    }
</div>
